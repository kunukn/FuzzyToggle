!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).FuzzyToggle=n()}(this,function(){"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const e="undefined"!=typeof window?window:global,n=e.requestAnimationFrame?e.requestAnimationFrame.bind(e):n=>e.setTimeout(n,16),t=e.cancelAnimationFrame?e.cancelAnimationFrame.bind(e):e.clearInterval.bind(e),o=e=>((e,n,t)=>Math.min(Math.max(e,n),t))(Math.round(100*(e+1e-5))/100,0,1),i="collapsed",a="expanded",r="expanding",l="collapsing",u=Date.now,c={value:0,duration:300,trace:()=>{}};let d=e=>e===r||e===l,s=e=>e===i||e===l,m=(e={})=>{let n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){_defineProperty(e,n,t[n])})}return e}({},c,e);return n.duration=+n.duration,[n,{value:1===n.value?1:0,motion:1===n.value?a:i,cancelled:!1,isRunning:!1,startTime:0}]};return function(e){let[c,v]=m(e),f=()=>{c.onUpdate&&c.onUpdate({value:v.value,motion:v.motion})},p=()=>{if(v.cancelled)return;let{value:e,prevValue:t,elapsedTime:r}=(()=>{let e=u()-v.startTime,n=e/c.duration;return n=o(s(v.motion)?1-n:n),{elapsedTime:e,prevValue:v.value,value:n}})();v.value=e,v.elapsedTime=r,r>=c.duration?(v.motion=s(v.motion)?i:a,v.isRunning=!1,v.cAF=null,t!==e&&f(),c.onDone&&c.onDone({value:v.value,motion:v.motion,hasReversed:v.hasReversed})):(f(),v.cAF=n(p))};return{toggle:()=>{if(c.duration<=0)return;v.cancelled=!1,v.isRunning=!0,v.hasReversed=d(v.motion),v.motion=s(v.motion)?r:l,v.hasReversed&&c.onReverse&&c.onReverse({value:v.value,motion:v.motion});let e=u();if(v.hasReversed){let{duration:n}=c,{startTime:t}=v,o=Math.min(n,e-t),i=Math.max(0,n-o);v.startTime=e-i}else v.startTime=e;return f(),v.cAF=n(p),!0},cancel:()=>{if(!v.isRunning)return;v.cAF&&t(v.cAF),v.isRunning=!1;let e=v.motion===r?i:a;return v.motion=e,v.value=e===i?0:1,v.cancelled=!0,c.onCancel&&c.onCancel({value:v.value,motion:v.motion,hasReversed:v.hasReversed}),!0}}}});
//# sourceMappingURL=FuzzyToggle.umd.es2015.js.map
