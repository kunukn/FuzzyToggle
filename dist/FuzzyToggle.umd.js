!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).FuzzyToggle=n()}(this,function(){"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _slicedToArray(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e="undefined"!=typeof window?window:global,n=e.requestAnimationFrame?e.requestAnimationFrame.bind(e):function(n){return e.setTimeout(n,16)},t=e.cancelAnimationFrame?e.cancelAnimationFrame.bind(e):e.clearInterval.bind(e),r=function(e){return function(e,n,t){return Math.min(Math.max(e,n),t)}(Math.round(100*(e+1e-5))/100,0,1)},o="collapsed",i="expanded",a="expanding",u="collapsing",l=Date.now,c={value:0,duration:300,trace:function(){}},f=function(e){return e===a||e===u},d=function(e){return e===o||e===u},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){_defineProperty(e,n,t[n])})}return e}({},c,e);return n.duration=+n.duration,[n,{value:1===n.value?1:0,motion:1===n.value?i:o,cancelled:!1,isRunning:!1,startTime:0}]};return function(e){var c=_slicedToArray(s(e),2),v=c[0],m=c[1],p=function(){if(v.onUpdate){var e=m,n=e.value,t=e.motion,r=e.hasReversed;v.onUpdate({value:n,motion:t,hasReversed:r})}},y=function run(){if(!m.cancelled){var e=function(){var e=l()-m.startTime,n=e/v.duration;return n=r(d(m.motion)?1-n:n),{elapsedTime:e,prevValue:m.value,value:n}}(),t=e.value,a=e.prevValue,u=e.elapsedTime;m.value=t,m.elapsedTime=u,u>=v.duration?(a!==t&&p(),m.motion=d(m.motion)?o:i,m.isRunning=!1,m.cAF=null,function(){if(v.onDone){var e=m,n=e.value,t=e.motion,r=e.hasReversed;v.onDone({value:n,motion:t,hasReversed:r})}}()):(p(),m.cAF=n(run))}};return{toggle:function(){if(!(v.duration<=0)){m.cancelled=!1,m.isRunning=!0,m.hasReversed=f(m.motion),m.motion=d(m.motion)?a:u,m.hasReversed&&function(){if(v.onReverse){var e=m,n=e.value,t=e.motion;v.onReverse({value:n,motion:t})}}();var e=l();if(m.hasReversed){var t=v.duration,r=m.startTime,o=Math.min(t,e-r),i=Math.max(0,t-o);m.startTime=e-i}else m.startTime=e;return p(),m.cAF=n(y),!0}},cancel:function(){if(m.isRunning){m.cAF&&t(m.cAF),m.isRunning=!1;var e=m.motion===a?o:i;return m.motion=e,m.value=e===o?0:1,m.cancelled=!0,function(){if(v.onCancel){var e=m,n=e.value,t=e.motion,r=e.hasReversed;v.onCancel({value:n,motion:t,hasReversed:r})}}(),!0}}}}});
//# sourceMappingURL=FuzzyToggle.umd.js.map
