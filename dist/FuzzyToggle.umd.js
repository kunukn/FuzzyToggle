!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).FuzzyToggle=n()}(this,function(){"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _slicedToArray(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e="undefined"!=typeof window?window:global,n=e.requestAnimationFrame?e.requestAnimationFrame.bind(e):function(n){return e.setTimeout(n,16)},t=e.cancelAnimationFrame?e.cancelAnimationFrame.bind(e):e.clearInterval.bind(e),r=function(e){return function(e,n,t){return Math.min(Math.max(e,n),t)}(Math.round(100*(e+1e-5))/100,0,1)},o="collapsed",i="expanded",a="expanding",u="collapsing",l=Date.now,c={value:0,duration:300,trace:function(){}},d=function(e){return e===a||e===u},f=function(e){return e===o||e===u},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){_defineProperty(e,n,t[n])})}return e}({},c,e);return n.duration=+n.duration,[n,{value:1===n.value?1:0,motion:1===n.value?i:o,cancelled:!1,isRunning:!1,startTime:0}]};return function(e){var c=_slicedToArray(s(e),2),m=c[0],v=c[1],p=function(){m.onUpdate&&m.onUpdate({value:v.value,motion:v.motion})},y=function run(){if(!v.cancelled){var e=function(){var e=l()-v.startTime,n=e/m.duration;return n=r(f(v.motion)?1-n:n),{elapsedTime:e,prevValue:v.value,value:n}}(),t=e.value,a=e.prevValue,u=e.elapsedTime;v.value=t,v.elapsedTime=u,u>=m.duration?(v.motion=f(v.motion)?o:i,v.isRunning=!1,v.cAF=null,a!==t&&p(),m.onDone&&m.onDone({value:v.value,motion:v.motion,hasReversed:v.hasReversed})):(p(),v.cAF=n(run))}};return{toggle:function(){if(!(m.duration<=0)){v.cancelled=!1,v.isRunning=!0,v.hasReversed=d(v.motion),v.motion=f(v.motion)?a:u,m.onToggle&&m.onToggle({value:v.value,motion:v.motion,hasReversed:v.hasReversed});var e=l();if(v.hasReversed){var t=m.duration,r=v.startTime,o=Math.min(t,e-r),i=Math.max(0,t-o);v.startTime=e-i}else v.startTime=e;return p(),v.cAF=n(y),!0}},cancel:function(){if(v.isRunning){v.cAF&&t(v.cAF),v.isRunning=!1;var e=v.motion===a?o:i;return v.motion=e,v.value=e===o?0:1,v.cancelled=!0,m.onCancel&&m.onCancel({value:v.value,motion:v.motion,hasReversed:v.hasReversed}),!0}}}}});
//# sourceMappingURL=FuzzyToggle.umd.js.map
